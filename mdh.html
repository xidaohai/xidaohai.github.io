<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¥¿å²›æµ· Â· å…¨æ™¯è§†è§‰ç„å‡†æ ¡å‡†ç†è®º</title>
    <style>
        :root {
            --bg-color: #121212;
            --surface-color: #1e1e1e;
            --input-bg: #252525;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            
            /* æ ¸å¿ƒè‰²è°ƒ */
            --primary: #00bcd4;   /* æ ‡å‡†/ç§‘æŠ€é’ */
            --accent: #bb86fc;    /* ç†è®º/é€»è¾‘ç´« */
            --gold: #ffd700;      /* ç»éªŒ/å®æˆ˜é‡‘ */
            --warm: #ff7043;      /* åè¿œ/å˜å° */
            --cool: #4caf50;      /* åè¿‘/å˜å¤§ */
            --error: #cf6679;     /* é”™è¯¯/æç«¯ */
            
            --radius: 12px;
            --shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            position: relative;
            padding-bottom: 80px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background-color: var(--surface-color);
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
            /* ç¡®ä¿å†…å®¹åœ¨ç§»åŠ¨ç«¯èƒ½æ’åœ¨æ‚¬æµ®çª—çš„åé¢ */
            z-index: 10;
        }

        /* æ ‡é¢˜ä¸æ’ç‰ˆ */
        h1 { margin-top: 0; color: var(--primary); text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; letter-spacing: 1px; }
        h2 { border-left: 4px solid var(--primary); padding-left: 15px; margin-top: 50px; color: #fff; font-size: 1.5em; }
        h3 { color: var(--text-main); margin-bottom: 15px; font-weight: 600; }
        p { color: var(--text-sub); margin-bottom: 15px; }
        strong { color: var(--text-main); }

        /* æ ¸å¿ƒç†è®ºæ¡† */
        .logic-box {
            background: rgba(187, 134, 252, 0.08);
            border: 1px solid rgba(187, 134, 252, 0.2);
            padding: 25px;
            border-radius: var(--radius);
            margin-bottom: 40px;
        }
        .logic-list { list-style: none; padding: 0; }
        .logic-list li { margin-bottom: 10px; padding-left: 20px; position: relative; }
        .logic-list li::before { content: "â€¢"; color: var(--accent); font-weight: bold; position: absolute; left: 0; }

        /* æ–°å¢ï¼šç»éªŒå…¬å¼æ¡† (é‡‘è‰²é£æ ¼) */
        .tip-box {
            background: rgba(255, 215, 0, 0.05); /* é‡‘è‰²èƒŒæ™¯æ·¡åŒ– */
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 25px;
            border-radius: var(--radius);
            margin: 30px 0;
        }
        .tip-box h3 { color: var(--gold); margin-top: 0; display: flex; align-items: center; gap: 10px; }
        .formula-card {
            background: #121212;
            border: 1px dashed var(--gold);
            color: var(--gold);
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        /* å…¬å¼æ¸²æŸ“ä¼˜åŒ–ï¼Œé¿å…ä½¿ç”¨ LaTeX */
        .formula-display {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--gold);
            margin: 10px 0;
            font-family: 'Times New Roman', serif; /* æ›´é€‚åˆæ•°å­¦ç¬¦å·çš„å­—ä½“ */
        }
        .fraction {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
        }
        .numerator {
            display: block;
            border-bottom: 1px solid currentColor;
            padding-bottom: 1px;
        }
        .denominator {
            display: block;
            padding-top: 1px;
        }

        /* SVG å›¾ç¤ºé€šç”¨æ ·å¼ */
        .diagram-container {
            width: 100%;
            background: #181818;
            border-radius: var(--radius);
            padding: 20px 0;
            border: 1px solid #333;
            text-align: center;
            margin: 30px 0;
            overflow-x: auto;
        }
        svg { max-width: 100%; height: auto; }
        text { font-family: sans-serif; }

        /* åœºæ™¯å¯¹æ¯”å¡ç‰‡ */
        .scenario-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
            justify-content: space-between;
        }
        .scenario-card {
            background: #252525;
            padding: 20px;
            border-radius: var(--radius);
            flex: 1;
            min-width: 300px;
            border: 1px solid #333;
            text-align: center;
        }
        @media (max-width: 768px) {
            .scenario-section { flex-direction: column; }
            .scenario-card { min-width: 100%; }
        }

        /* è®¡ç®—å™¨åŒºåŸŸ */
        .calculator-section {
            background: #2a2a2a;
            padding: 30px;
            border-radius: var(--radius);
            border: 1px solid #444;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        @media (max-width: 768px) { 
            .calculator-section { grid-template-columns: 1fr; gap: 20px; } 
        }

        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; color: var(--text-sub); margin-bottom: 8px; font-size: 0.9em; font-weight: 500; }
        input[type="number"] {
            width: 100%;
            padding: 12px;
            background: #181818;
            border: 1px solid #444;
            color: #fff;
            border-radius: 6px;
            font-size: 1.2em;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }
        input:focus { border-color: var(--primary); outline: none; }

        .result-display {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #1e1e1e;
            border: 2px dashed #444;
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
        }
        .result-value { font-size: 3em; font-weight: bold; color: var(--primary); margin: 10px 0; }
        .result-desc { font-size: 0.9em; line-height: 1.5; }

        /* æ­¥éª¤åˆ—è¡¨ */
        .step-list { counter-reset: step; list-style: none; padding: 0; }
        .step-list li { position: relative; padding-left: 60px; margin-bottom: 25px; }
        .step-list li::before {
            counter-increment: step;
            content: "0" counter(step);
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 40px;
            background: rgba(0, 188, 212, 0.1);
            color: var(--primary);
            text-align: center;
            line-height: 40px;
            border-radius: 50%;
            font-weight: bold;
            border: 1px solid rgba(0, 188, 212, 0.3);
        }

        /* è¾…åŠ©ç±» */
        .highlight { color: var(--primary); font-weight: bold; }
        .text-warm { color: var(--warm); }
        .text-cool { color: var(--cool); }
        .text-error { color: var(--error); }

        /* ä½œè€…ä¿¡æ¯ */
        .authors {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(10px);
            padding: 12px 20px;
            border-radius: var(--radius);
            border: 1px solid rgba(0, 188, 212, 0.3);
            z-index: 100;
            font-size: 0.9em;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .authors a {
            color: var(--primary);
            text-decoration: none;
            margin: 0 8px;
            transition: color 0.3s;
            font-weight: 500;
        }
        
        .authors a:hover { color: var(--accent); text-decoration: underline; }
        .authors span { color: var(--text-sub); margin-right: 5px; }
        
        @media (max-width: 768px) {
            .authors { position: static; margin-top: 30px; text-align: center; background: rgba(30, 30, 30, 0.7); backdrop-filter: none; }
            body { padding-bottom: 20px; }
        }

        /* å·¦ä¾§æ‚¬æµ®çª—æ ·å¼ */
        .floating-tip {
            position: fixed;
            top: 100px;
            left: 20px;
            background: rgba(0, 188, 212, 0.15); /* ä½¿ç”¨ primary è‰²è°ƒçš„åŠé€æ˜èƒŒæ™¯ */
            border: 1px solid var(--primary);
            padding: 15px;
            border-radius: var(--radius);
            max-width: 280px;
            box-shadow: var(--shadow);
            z-index: 101;
        }
        .floating-tip h3 {
            color: var(--primary); 
            margin-top: 0; 
            border-bottom: 1px solid rgba(0, 188, 212, 0.3); 
            padding-bottom: 8px;
        }
        .floating-tip p, .floating-tip li {
            color: var(--text-main); 
            font-size: 0.9em;
        }
        .floating-tip ol {
            padding-left: 20px;
            margin-top: 10px;
        }
        .floating-tip strong {
            color: var(--gold);
        }

        /* æ–°å¢ï¼šå³ä¾§è®¡ç®—å™¨æ¨¡å— (é‡‘è‰²ç³») */
        .floating-calculator-right {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(255, 215, 0, 0.05); /* é‡‘è‰²èƒŒæ™¯æ·¡åŒ– */
            border: 1px solid var(--gold);
            padding: 15px;
            border-radius: var(--radius);
            max-width: 260px;
            box-shadow: var(--shadow);
            z-index: 101;
            font-size: 0.9em;
        }
        .floating-calculator-right h3 {
            color: var(--gold);
            margin-top: 0;
            border-bottom: 1px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 8px;
            font-size: 1.1em;
        }
        .floating-calculator-right .input-group-small {
            margin-bottom: 15px;
        }
        .floating-calculator-right label {
            display: block;
            color: var(--text-sub);
            margin-bottom: 5px;
            font-size: 0.85em;
        }
        .floating-calculator-right input {
            width: 100%;
            padding: 8px;
            font-size: 1em;
            background: #181818;
            border: 1px solid #444;
            color: #fff;
            border-radius: 6px;
            box-sizing: border-box;
        }
        .floating-calculator-right input:focus {
            border-color: var(--gold);
        }
        .calc-result-box {
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 6px;
            border: 1px dashed var(--gold);
        }
        .process-text {
            color: var(--text-sub);
            font-size: 0.8em;
            margin-top: 8px;
            font-family: monospace;
            line-height: 1.4;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é…ï¼šæ‚¬æµ®çª—å˜æˆæ™®é€šå— */
        @media (max-width: 1300px) {
            .floating-tip, .floating-calculator-right {
                position: static; 
                margin: 20px auto; 
                max-width: 90%; 
                width: 100%;
                box-sizing: border-box;
            }
            .container {
                order: 0; /* ä¿æŒå†…å®¹åœ¨ä¸Š */
            }
        }
    </style>
</head>
<body>

<div class="floating-tip">
    <h3>ğŸ¯ ADS çµæ•åº¦æ ¡å‡†æé†’</h3>
    <p>
        å¦‚æœæˆ‘æ²¡æœ‰MDHï¼Œåªæœ‰ADSï¼ˆå¼€é•œçµæ•åº¦ï¼‰æ€ä¹ˆåŠï¼Ÿå¾ˆç®€å•ï¼š
    </p>
    <ol>
        <li>å¾—åˆ°å®ç”¨å€¼ï¼šå…ˆå¾—åˆ°"å®ç”¨å€¼ A"ï¼ˆå³æ‹‰æªcm x eï¼‰ã€‚</li>
        <li>è®°å½•æ‹‰æªï¼šç„¶åç§»åŠ¨é¼ æ ‡ï¼Œè®©å‡†æ˜Ÿæ°å¥½è½åœ¨æ­¤å®ç”¨å€¼å¯¹åº”çš„ç›®æ ‡ä¸Šï¼Œè®°å½•å½“å‰é¼ æ ‡ç§»åŠ¨äº†å¤šå°‘ cmã€‚</li>
        <li>è°ƒæ•´ ADSï¼šå¼€é•œåï¼Œåå¤è°ƒæ•´ ADSï¼Œç›´åˆ°ä¸åˆšåˆšé¼ æ ‡æ‰€ç§»åŠ¨çš„è·ç¦»ç›¸åŒã€å‡†æ˜Ÿçš„è½ç‚¹ç›¸åŒå³å¯ã€‚</li>
    </ol>
</div>

<div class="floating-calculator-right">
    <h3>ğŸ”­ è¥¿å²›æµ·ã€æé™ã€å¿«é€‚åº”å€¼ã€‘ç®—æ³•</h3>
    <p style="font-size: 0.9em; color: var(--gold); margin-top:-5px; text-align: center;">
        <strong>å…¬å¼ï¼šå€ç‡ R(X) = 111 / (X + 111)</strong>
    </p>
    
    <div class="input-group-small">
        <label>FOV å˜åŒ–å€¼ (Xï¼Œå¡«å…¥å‡å°‘çš„ FOVï¼Œå¦‚ -20)</label>
        <input type="number" id="fovDiff" value="-60" placeholder="-20">
    </div>
    
    <div class="input-group-small">
        <label>è…°å°„ CM/360Â° (åŸºç¡€çµæ•åº¦)</label>
        <input type="number" id="cm360" value="60" placeholder="30">
    </div>

    <div class="calc-result-box">
        <div style="margin-bottom: 5px;">æ¢ç®—åçš„ CM/360Â°:</div>
        <div style="font-size: 1.5em; font-weight: bold; color: var(--gold);">
            <span id="finalResult">105.00</span> <span style="font-size:0.5em;">cm</span>
        </div>
<div class="process-text" id="calcProcess">
    â‘  FOV å˜åŒ–å€¼ X = -60<br>
    â‘¡ å€ç‡ R(X) = 111 / (-60 + 111)<br>
    &nbsp;&nbsp;= 111 / 51 = <strong>2.1765</strong><br>
    â‘¢ æ¢ç®—åçš„ CM/360Â° = 60 Ã— 2.1765 = <strong>130.59 cm</strong>
</div>
    </div>
</div>

<div class="container">
    <h1>ğŸ“ è§†è§‰ç„å‡†æ ¡å‡†ç†è®º</h1>
    
    <div class="logic-box">
        <h3 style="color: var(--accent); margin-top:0;">ğŸ§  æ ¸å¿ƒåŸç†ï¼šè§†è§‰æ’å®šæ€§</h3>
        <p>ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸åº”è¯¥ç”¨"å±å¹•ä¸Šçš„ç‰©ç†è·ç¦»"æ¥è¡¡é‡çµæ•åº¦ï¼Ÿ</p>
        <ul class="logic-list">
            <li><strong>æœ¬è´¨ä¸Šï¼š</strong> MDHä¿è¯çš„æ˜¯ï¼Œã€æ‰‹åŠ¨å¤šå°‘é•¿åº¦ ã€ç»‘å®šã€‘ çœ¼çœ‹å¤šå°‘é•¿åº¦ã€‘ã€‚</li>
            <li><strong>ç‰©ç†é”™è§‰ï¼š</strong> åŒæ ·çš„ 10cm ç‰©ç†ç§»åŠ¨ï¼Œåœ¨ IMAX å·¨å¹•ä¸Šæ˜¾å¾—å¾®ä¸è¶³é“ï¼Œåœ¨æ‰‹æœºå±å¹•ä¸Šå´å·¨å¤§æ— æ¯”ã€‚</li>
            <li><strong>è§†ç½‘è†œé€Ÿåº¦ï¼š</strong> è‚Œè‚‰è®°å¿†ï¼ˆè·Ÿæª/å¾®è°ƒï¼‰æœ¬è´¨ä¸Šæ˜¯å¯¹<strong>"ç‰©ä½“åœ¨è§†ç½‘è†œä¸Šæ‰«è¿‡çš„è§’åº¦"</strong>çš„ååº”ã€‚</li>
            <li><strong>å°ºå­ä½œä¸ºç»å¯¹é”šç‚¹ï¼š</strong> é€šè¿‡"ç”¨ç»³å­æŠŠå°ºç»‘ä½ï¼Œå‘ˆ90åº¦ï¼ŒæŠŠå°ºæ”¾åœ¨çœ¼å‰ï¼Œä¼¸ç›´ç»³å­"ï¼Œæˆ‘ä»¬åˆ›é€ äº†ä¸€ä¸ª<strong>æ°¸è¿œä¸å˜çš„å‚ç…§ç³»</strong>ã€‚ä¸ç®¡å±å¹•æ€ä¹ˆå˜ï¼Œåªè¦å‡†æ˜Ÿåœ¨å°ºå­ä¸Šè·‘è¿‡çš„åˆ»åº¦ä¸å˜ï¼Œä½ çš„æ‰‹æ„Ÿå°±æ°¸è¿œä¸€è‡´ã€‚</li>
        </ul>
    </div>

    <h2>1. å‡ ä½•åŸç†å¯è§†åŒ–</h2>
    <p>ä¸‹å›¾å±•ç¤ºäº†å½“<strong>è§†è§‰æŠ•å°„ï¼ˆå°ºå­åˆ»åº¦ï¼‰</strong>ä¿æŒä¸å˜æ—¶ï¼Œå±å¹•è·ç¦»/å¤§å°çš„å˜åŒ–å¦‚ä½•å½±å“å®é™…è¦†ç›–æ¯”ä¾‹ (MDH)ã€‚</p>
        <div class="diagram-container">
        <svg width="800" height="280" viewBox="0 0 800 280">
            <defs>
                <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <path d="M0,0 L0,6 L9,3 z" fill="#666" />
                </marker>
            </defs>

            <circle cx="50" cy="140" r="8" fill="#fff" stroke="#bb86fc" stroke-width="2"/>
            <text x="30" y="170" fill="#fff" font-size="12">çœ¼ç› (Eye)</text>

            <line x1="200" y1="40" x2="200" y2="240" stroke="#bb86fc" stroke-width="1" stroke-dasharray="4,4" />
            <rect x="198" y="90" width="4" height="100" fill="#00bcd4" opacity="0.8" />
            <text x="185" y="30" fill="#bb86fc" font-size="12">ğŸ“ å°ºå­æˆªé¢ (å›ºå®šè‡‚é•¿)</text>
            <text x="210" y="145" fill="#00bcd4" font-size="12" font-weight="bold">åŸºå‡† (10cm)</text>

            <line x1="50" y1="140" x2="750" y2="28" stroke="#333" stroke-width="1" />
            <line x1="50" y1="140" x2="750" y2="252" stroke="#333" stroke-width="1" />

            <line x1="400" y1="60" x2="400" y2="220" stroke="#4caf50" stroke-width="3" />
            <text x="380" y="50" fill="#4caf50" font-size="12">ğŸ“º A: è¿‘/å¤§å±</text>
            <line x1="400" y1="112" x2="400" y2="168" stroke="#fff" stroke-width="2" />
            <text x="410" y="145" fill="#888" font-size="10">å æ¯”å° (MDHâ†“)</text>

            <line x1="650" y1="10" x2="650" y2="270" stroke="#ff7043" stroke-width="3" />
            <text x="630" y="270" fill="#ff7043" font-size="12">ğŸ“± B: è¿œ/å°å±</text>
            <line x1="650" y1="45" x2="650" y2="235" stroke="#fff" stroke-width="2" />
            <text x="660" y="145" fill="#888" font-size="10">å æ¯”å¤§ (MDHâ†‘)</text>

            <path d="M50 140 L200 90 L650 18" fill="none" stroke="#00bcd4" stroke-width="1" stroke-opacity="0.3" stroke-dasharray="2"/>
            <path d="M50 140 L200 190 L650 262" fill="none" stroke="#00bcd4" stroke-width="1" stroke-opacity="0.3" stroke-dasharray="2"/>
        </svg>
    </div>

    <div class="scenario-section">
        <div class="scenario-card">
            <h3 class="text-warm">ğŸ”´ åœºæ™¯ A: åå¾—è¿œ / å±å¹•å°</h3>
            <svg width="250" height="120" viewBox="0 0 250 120">
                <rect x="50" y="20" width="150" height="80" fill="none" stroke="#666" stroke-dasharray="4"/>
                <rect x="50" y="50" width="150" height="20" fill="#ff7043" opacity="0.5"/>
                <text x="125" y="110" text-anchor="middle" fill="#888" font-size="10">åŸºå‡†ç§»åŠ¨å æ»¡äº†å±å¹•</text>
            </svg>
            <p style="font-size:0.9em;">
                å±å¹•åœ¨è§†é‡é‡Œå˜å°äº†ã€‚<br>
                <strong>MDH éœ€å˜å¤§</strong> (ä¾‹å¦‚ >80%)<br>
                <small>çµæ•åº¦ç³»æ•°å˜é«˜ä»¥è¡¥å¿è§†è§‰æ…¢é€Ÿ</small>
            </p>
        </div>

        <div class="scenario-card">
            <h3 class="text-cool">ğŸŸ¢ åœºæ™¯ B: åå¾—è¿‘ / å±å¹•å¤§</h3>
            <svg width="250" height="120" viewBox="0 0 250 120">
                 <rect x="10" y="10" width="230" height="100" fill="none" stroke="#666" stroke-dasharray="4"/>
                 <rect x="90" y="50" width="70" height="20" fill="#4caf50" opacity="0.5"/>
                 <text x="125" y="110" text-anchor="middle" fill="#888" font-size="10">åŸºå‡†ç§»åŠ¨åªå ä¸­å¿ƒä¸€å°å—</text>
            </svg>
            <p style="font-size:0.9em;">
                å±å¹•åœ¨è§†é‡é‡Œå˜å¤§äº†ã€‚<br>
                <strong>MDH éœ€å˜å°</strong> (ä¾‹å¦‚ <40%)<br>
                <small>çµæ•åº¦ç³»æ•°å˜ä½ä»¥é˜²æ­¢è§†è§‰æ™•çœ©</small>
            </p>
        </div>
    </div>

    <h2>2. æ“ä½œæŒ‡å— (The Ruler Method)</h2>
    <ul class="step-list">
        <li>
            <strong>å»ºç«‹é»„é‡‘åŸºå‡† (Golden Standard)</strong><br>
            åœ¨å®¶é‡Œæœ€èˆ’æœçš„çŠ¶æ€ä¸‹ï¼Œåšä¸€æ¬¡ä½ æœ€ä¹ æƒ¯çš„"æ‹‰æª/ç”©æª"åŠ¨ä½œï¼ˆä¾‹å¦‚é¼ æ ‡ç§»åŠ¨ 10cmï¼‰ã€‚<br>
            <span class="highlight">ä¿æŒç»³å°ºä¼¸ç›´ï¼ˆç»³å­ç»‘åœ¨å°ºä¸Šå‘ˆ90Â°ï¼Œç»³å­è´´åœ¨è„¸ä¸Šï¼‰é‡å‡ºè¿™æ¬¡ç”©æªåœ¨è§†é‡é‡Œçš„é•¿åº¦ã€‚</span><br>
            è®°ä¸‹è¿™ä¸ªæ•°ï¼Œå‡è®¾æ˜¯ <strong>10cm</strong>ã€‚è¿™ä»£è¡¨äº†ä½ è‚Œè‚‰è®°å¿†é‡Œçš„"æ ‡å‡†è§†è§’"ã€‚
        </li>
        <li>
            <strong>æµ‹é‡æ–°ç¯å¢ƒ</strong><br>
            å½“ä½ æ¢äº†ç½‘å§ï¼Œæˆ–è€…æ¢äº†åå§¿ã€‚ä¼¸ç›´ç»³å°ºï¼Œæ‹¿å°ºå­é‡ä¸€ä¸‹<strong>å½“å‰å±å¹•çš„åŠå®½</strong>ï¼ˆä»ä¸­å¿ƒåˆ°è¾¹ç¼˜ï¼‰ã€‚<br>
            <em>æç¤ºï¼šå¦‚æœå±å¹•å˜å°/åè¿œäº†ï¼Œè¯»æ•°ä¼šå˜å°ï¼ˆå¦‚ 11cmï¼‰ï¼›å¦‚æœå±å¹•å˜å¤§/åè¿‘äº†ï¼Œè¯»æ•°ä¼šå˜å¤§ï¼ˆå¦‚ 25cmï¼‰ã€‚</em>
        </li>
        <li>
            <strong>å¡«å…¥è®¡ç®—</strong><br>
            å°†è¿™ä¸¤ä¸ªæ•°å€¼å¡«å…¥ä¸‹æ–¹è®¡ç®—å™¨ï¼Œå¾—åˆ°ä½ éœ€è¦è®¾ç½®çš„ MDH ç™¾åˆ†æ¯”ã€‚
        </li>
    </ul>

    <div class="tip-box">
        <h3>è¥¿å²›æµ·ç»éªŒå…¬å¼ (å®æˆ˜)</h3>
        <div class="formula-card">
           ã€ æ ¸å¿ƒå…¬å¼ï¼šå®ç”¨å€¼ = å¸¸ç”¨æœ€è¿œæ‹‰æªé•¿åº¦ x e-1~e+1ä¹‹é—´ ã€‘ï¼ˆeâ‰ˆ2.72ï¼‰
        </div>
        <p>ä¸»å¼ å®é™…ç”¨å°ºå­é‡ï¼Œè€Œä¸æ˜¯é è½¬æ¢ç½‘ç«™ã€‚<strong>ã€è¥¿å²›æµ·çŸ­TTKæ¸¸æˆå¼€é•œå¸¸ç”¨ å®ç”¨å€¼16.5cmã€MDH60%å·¦å³ã€‘</strong>ï¼š</p>
        <ul class="logic-list">
            <li><strong>â‘  ç«¯å°ºå–å€¼ï¼š</strong>æ‹¿ç»³å°ºä¼¸ç›´é‡å±å¹•ï¼Œæƒ³å¾—ä¸€ä¸ªä½ "å¸¸ç”¨æœ€è¿œ"æ‹‰æª cm æ•°ã€‚</li>
            <li><strong>â‘¡ ä¹˜ä»¥eï¼š</strong>å°†è¿™ä¸ªæ‹‰æªæ•°å€¼ <strong>x e</strong>ï¼Œå¾—åˆ°"å®ç”¨å€¼ A"ã€‚</li>
            <li><strong>â‘¢ é™¤ä»¥åŠå®½ï¼š</strong>ç”¨ <strong>A</strong> é™¤ä»¥ <strong>å±å¹•ä¸€ä¾§é•¿åº¦ï¼ˆç«¯å°ºæµ‹é‡å€¼ï¼‰</strong>ã€‚</li>
        </ul>
        <div class="formula-card">
            ã€ å¸¸ç”¨å…¬å¼ï¼šMDH% = ( å¸¸ç”¨æœ€è¿œæ‹‰æªé•¿åº¦ x e ) / å±å¹•åŠå®½é•¿åº¦ ã€‘
        </div>
        <ul class="logic-list">
            <li><strong>ã€å¸¸ç”¨æœ€è¿œæ‹‰æªã€‘æ¦‚å¿µï¼š</strong>è¿™ä¸ªé•¿åº¦ä»‹äºï¼Œã€å¸¸ç”¨çš„ç”©æªè·ç¦»ã€‘ï¼ˆæœ€å¸¸è§ã€ä¹Ÿæ¯”è¾ƒçŸ­ï¼‰ï¼Œä¸ï¼Œã€ä¸å¤ªå¸¸ç”¨çš„æœ€è¿œç”©æªè·ç¦»ã€‘ï¼ˆä¸ªåˆ«æ—¶å€™èƒ½ç”¨åˆ°ï¼‰ï¼Œä¹‹é—´ï¼Œã€ä½†å±äº"å¸¸ç”¨"çš„ç”©æªé•¿åº¦èŒƒå›´å†…ã€‘ã€‚</li>
            <li><strong>ã€å¸¸ç”¨æœ€è¿œæ‹‰æªã€‘å‚è€ƒï¼š</strong>ã€è¥¿å²›æµ·çŸ­TTKå¼€é•œå¸¸ç”¨æœ€è¿œæ‹‰æªï¼š5.5cmã€‘ã€‚</li>
        </ul>
    </div>

    <h2>3. è§†è§‰ä¸€è‡´æ€§è®¡ç®—å™¨</h2>
    <div class="calculator-section">
        <div class="inputs">
            <div class="input-group">
                <label>ğŸ“ ä½ çš„åŸºå‡†ç”©æªè¯»æ•° / æˆ– å®ç”¨å€¼A (Target Visual cm)</label>
                <input type="number" id="baseVal" value="13" placeholder="ä¾‹å¦‚: 10">
                <small style="color:#666;">ä½ æ°¸è¿œä¸å˜çš„æ‰‹æ„Ÿå‚ç…§ (MDH åˆ†å­)ã€‚</small>
            </div>
            <div class="input-group">
                <label>ğŸ“º å½“å‰å±å¹•åŠå®½è¯»æ•° (Screen Radius cm)</label>
                <input type="number" id="screenVal" value="27.2" placeholder="ä¾‹å¦‚: 20">
                <small style="color:#666;">ä¼¸ç›´ç»³å°ºæµ‹é‡å½“å‰å±å¹•ä¸­å¿ƒåˆ°è¾¹ç¼˜çš„é•¿åº¦ã€‚</small>
            </div>
        </div>

        <div class="result-display">
            <div style="color:#888; text-transform:uppercase; letter-spacing:1px; font-size:0.8em;">åº”å¡«å…¥çš„ MDH æ•°å€¼</div>
            <div class="result-value" id="mdhResult">47.79%</div>
            <div class="result-desc" id="statusMessage">
                <span style="color:#00bcd4;">çŠ¶æ€ï¼šæ ‡å‡†è§†è·</span><br>
                å±å¹•å¤„äºå¸¸è§„è§†è§‰èŒƒå›´å†…ï¼Œæ‰‹æ„Ÿæœ€è‡ªç„¶ã€‚
            </div>
        </div>
    </div>
</div>

<div class="authors">
    <span>ä½œè€…:</span>
    <a href="https://space.bilibili.com/1534330" target="_blank">è¥¿å²›æµ·</a>
    <span>é¡¾é—®:</span>
    <a href="https://space.bilibili.com/10778584" target="_blank">å¢¨æ¾œåŸ</a>
</div>


<script>
    const baseInput = document.getElementById('baseVal');
    const screenInput = document.getElementById('screenVal');
    const resDisplay = document.getElementById('mdhResult');
    const statusDisplay = document.getElementById('statusMessage');

    // ä¸» MDH è®¡ç®—é€»è¾‘
    function calculateMDH() {
        const target = parseFloat(baseInput.value);
        const screenW = parseFloat(screenInput.value);

        if (isNaN(target) || isNaN(screenW) || screenW === 0) {
            resDisplay.innerText = "--%";
            statusDisplay.innerHTML = "è¯·è¾“å…¥æœ‰æ•ˆæ•°å€¼";
            resDisplay.style.color = "#777";
            return;
        }

        // è®¡ç®— MDH
        const mdh = (target / screenW) * 100;
        resDisplay.innerText = mdh.toFixed(2) + "%";

        // é€»è¾‘åˆ¤æ–­ä¸åé¦ˆ
        if (screenW < target) {
            resDisplay.style.color = "#cf6679"; // Error Red
            statusDisplay.innerHTML = `
                <span class="text-error">âš ï¸ æç«¯è§†è·è­¦å‘Š</span><br>
                å±å¹•åœ¨è§†é‡ä¸­å¤ªå°äº†ï¼ä½ çš„æ ‡å‡†ç”©æªä¼šç›´æ¥ç”©å‡ºå±å¹•å¤–ã€‚<br>
                (MDH > 100%)
            `;
        } else if (mdh > 75) {
            resDisplay.style.color = "#ff7043"; // Warm Orange
            statusDisplay.innerHTML = `
                <span class="text-warm">çŠ¶æ€ï¼šåå¾—è¿œ æˆ– å±å¹•å°</span><br>
                ä½ çš„ç”©æªåŠ¨ä½œå äº†å±å¹•å¾ˆå¤§æ¯”ä¾‹ã€‚<br>
                MDH å˜å¤§ (çµæ•åº¦ç³»æ•°å˜é«˜) ä»¥è¡¥å¿è§†è§‰æ…¢é€Ÿã€‚
            `;
        } else if (mdh < 45) {
            resDisplay.style.color = "#4caf50"; // Cool Green
            statusDisplay.innerHTML = `
                <span class="text-cool">çŠ¶æ€ï¼šåå¾—è¿‘ æˆ– å±å¹•å¤§</span><br>
                ä½ çš„ç”©æªåŠ¨ä½œåªå å±å¹•ä¸€å°éƒ¨åˆ†ã€‚<br>
                MDH å˜å° (çµæ•åº¦ç³»æ•°å˜ä½) ä»¥é˜²æ­¢è§†è§‰çœ©æ™•ã€‚
            `;
        } else {
            resDisplay.style.color = "#00bcd4"; // Primary Cyan
            statusDisplay.innerHTML = `
                <span style="color:#00bcd4;">çŠ¶æ€ï¼šæ ‡å‡†è§†è·</span><br>
                å±å¹•å¤„äºå¸¸è§„è§†è§‰èŒƒå›´å†…ï¼Œæ‰‹æ„Ÿæœ€è‡ªç„¶ã€‚
            `;
        }
    }

    baseInput.addEventListener('input', calculateMDH);
    screenInput.addEventListener('input', calculateMDH);

    // ==========================================
    // FOV å€ç‡è®¡ç®—é€»è¾‘ (å³ä¾§æ‚¬æµ®çª—)
    // å…¬å¼ï¼šå€ç‡ = 111 / (X + 111)ï¼ŒX ä¸º FOV å˜åŒ–å€¼
    // ==========================================
    const fovDiffInput = document.getElementById('fovDiff');
    const cm360Input = document.getElementById('cm360');
    const finalResultDisplay = document.getElementById('finalResult');
    const calcProcessDisplay = document.getElementById('calcProcess');

    function calcFovRate() {
        // ç›´æ¥ä½¿ç”¨ç”¨æˆ·è¾“å…¥çš„ FOV å˜åŒ–å€¼ X
        const X = parseFloat(fovDiffInput.value); 
        const cm = parseFloat(cm360Input.value);

        if (isNaN(X) || isNaN(cm)) {
            finalResultDisplay.innerText = "--";
            calcProcessDisplay.innerHTML = "è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—";
            return;
        }

        // éªŒè¯åˆ†æ¯
        const rateDenominator = X + 111;
        if (rateDenominator <= 0) {
             finalResultDisplay.innerText = "é”™è¯¯";
             calcProcessDisplay.innerHTML = `åˆ†æ¯å°äºæˆ–ç­‰äºé›¶ (FOV å˜åŒ–å€¼ X å¿…é¡»å¤§äº -140)`;
             return;
        }

        // å…¬å¼ï¼šå€ç‡ = 111 / (X + 111)
        const rate = 111 / rateDenominator;
        
        // ç»“æœ = è…°å°„ CM/360Â° * å€ç‡
        const result = cm * rate;

        finalResultDisplay.innerText = result.toFixed(2);
        
        // æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹
        calcProcessDisplay.innerHTML = `
            â‘  FOV å˜åŒ–å€¼ X = ${X}<br>
            â‘¡ å€ç‡ R(X) = 111 / (${X} + 111)<br>
            &nbsp;&nbsp;= 111 / ${rateDenominator.toFixed(0)} = <strong>${rate.toFixed(4)}</strong><br>
            â‘¢ æ¢ç®—åçš„ CM/360Â° = ${cm} Ã— ${rate.toFixed(4)} = <strong>${result.toFixed(2)} cm</strong>
        `;
    }

    fovDiffInput.addEventListener('input', calcFovRate);
    cm360Input.addEventListener('input', calcFovRate);

    // åˆå§‹è¿è¡Œ
    calculateMDH();
    calcFovRate();
</script>

</body>
</html>
