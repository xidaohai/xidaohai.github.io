<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XLM·蛋白质与B12需求计算器</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #f4f7f6 0%, #e0e7ff 100%);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            margin: 0;
            gap: 20px;
            padding: 20px;
            flex-wrap: wrap; /* 允许在小屏幕上换行 */
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            width: 100%;
            max-width: 450px;
            box-sizing: border-box;
            transition: transform 0.3s ease;
        }
        .container:hover {
            transform: translateY(-5px);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #3498db, #2c3e50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        h2 {
            text-align: center;
            color: #3498db;
            font-size: 20px;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeaea;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 15px;
        }
        .input-group input, .input-group select {
            width: 100%;
            padding: 14px;
            border: 2px solid #ddd;
            border-radius: 10px;
            box-sizing: border-box;
            font-size: 16px;
            transition: all 0.3s;
            background-color: #f9f9f9;
        }
        .input-group input:focus, .input-group select:focus {
            border-color: #3498db;
            outline: none;
            background-color: #fff;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(to right, #3498db, #2980b9);
            color: #fff;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        button:active {
            transform: translateY(0);
        }
        .result {
            margin-top: 25px;
            padding: 20px;
            border-radius: 10px;
            background: linear-gradient(to right, #e8f5e9, #c8e6c9);
            color: #2e7d32;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            display: none;
            border-left: 5px solid #2e7d32;
        }
        .note {
            margin-top: 20px;
            font-size: 14px;
            color: #7f8c8d;
            text-align: center;
            line-height: 1.6;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }
        .info-panel {
            background: linear-gradient(to bottom, #ecf0f1, #dfe6e9);
            padding: 25px;
            border-radius: 12px;
            max-width: 350px;
            box-sizing: border-box;
            margin-top: 20px;
            border: 1px solid #dde1e4;
        }
        .info-panel h3 {
            font-size: 18px;
            color: #34495e;
            margin-top: 0;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }
        .info-panel p {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 10px;
            line-height: 1.5;
        }
        .divider {
            border-top: 2px dashed #ccc;
            margin: 30px 0;
        }
        .b12-details {
            margin-top: 20px;
            padding: 15px;
            background-color: #e3f2fd;
            border-radius: 10px;
            display: none;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            color: #555;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #3498db;
            color: #fff;
            font-weight: 600;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        @media (max-width: 768px) {
            body {
                flex-direction: column;
                padding: 15px;
                gap: 15px;
                align-items: center;
            }
            .container {
                max-width: 100%;
                padding: 20px;
            }
            .container:first-of-type {
                margin-bottom: 0;
            }
        }
        .editable {
            background-color: #fff !important;
            border: 2px solid #3498db !important;
        }
        .bmi-table th {
            background-color: #2c3e50;
        }
        .energy-table th {
            background-color: #9b59b6;
        }
        .calorie-table th {
            background-color: #fbc02d;
        }
        .b12-table th {
            background-color: #6174a7;
        }
        
        /* 浮动按钮和弹窗样式 */
        .floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            padding: 15px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1.2;
            text-align: center;
            white-space: normal;
        }
        .floating-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding-top: 60px;
            animation: fadeIn 0.3s ease-out;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border: none;
            border-radius: 15px;
            max-width: 700px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            animation: slideIn 0.4s ease-out;
            line-height: 1.8;
            font-size: 16px;
            white-space: pre-wrap;
            /* Preserve line breaks and spaces */
            word-wrap: break-word;
            /* Wrap long words */
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            transition: color 0.3s ease;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .modal-content h3, .modal-content p {
            color: #333;
            margin-top: 0;
            margin-bottom: 10px;
        }
        .modal-content h3 {
            font-size: 22px;
            text-align: center;
        }
    </style>
</head>
<body>

<div class="container">
    <h3>七大基本营养素</h3>
    <hr>
    <table>
        <thead>
            <tr>
                <th>存活阶段</th>
                <th>营养素，存活重要性左右为高低</th>
            </tr>
        </thead>
        <tbody>
 
            <tr>
                <td>短期存活【基本不缺】</td>
                <td>水、碳水化合物</td>
            </tr>
            <tr>
                <td>中期存活【有可能缺】</td>
                <td>蛋白质</td>
 
            </tr>
            <tr>
                <td>长期存活【很可能缺】</td>
                <td>脂肪、矿物质、维生素、膳食纤维</td>
            </tr>
        </tbody>
    </table>

    <div class="info-panel">
        <h3>蛋白质由氨基酸构成</h3>
        
 <table>
            <thead>
                <tr>
                    <th>食物类型</th>
                    <th>缺乏的氨基酸</th>
                    <th>丰富的氨基酸</th>
            
         <th>补充方案</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>黄豆</td>
                
     <td>蛋氨酸、半胱氨酸</td>
                    <td>赖氨酸</td>
                    <td>大米、面食</td>
                </tr>
                <tr>
                    <td>大米、面食</td>
    
                 <td>赖氨酸</td>
                    <td>蛋氨酸、半胱氨酸</td>
                    <td>黄豆</td>
                </tr>
            </tbody>
        </table>

        
 <h3>如何真正的补充蛋白质？</h3>
        <p>黄豆唯独蛋氨酸含量不高，这在吸收时会如木桶效应：8种必须氨基酸当中的蛋氨酸缺乏，会使得整个合成过程被限制在蛋氨酸的水平上。</p>
        <p>你吃进去的所有其他氨基酸，也会因为“积木”不全而无法被高效利用，最终被分解并作为能量消耗掉或排出体外。</p>
        <p>所以要与以下饮食互补，才能达到完美的蛋白质摄入。</p>
        <p>蛋氨酸含量由高到低：芝麻酱100g含600mg、花生300、面食225、玉米175、大米125。</p>       
                
        <h3>快餐平均营养数据</h3>
        <table class="fast-food-table">
            <thead>
                
 <tr>
                    <th>食物类型</th>
                    <th>平均重量</th>
                    <th>千卡</th>
                    <th>蛋白质（克）</th>
                </tr>
    
         </thead>
            <tbody>
                <tr>
                    <td>汉堡</td>
                    <td>180克</td>
                    <td>475</td>
    
                 <td>21.5</td>
                </tr>
                <tr>
                    <td>大份薯条</td>
                    <td>140克</td>
            
         <td>475</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>6块麦乐鸡块</td>
                    
 <td>100克</td>
                    <td>300</td>
                    <td>17.5</td>
                </tr>
                <tr>
                    <td>派或蛋挞</td>
        
             <td>80克</td>
                    <td>225</td>
                    <td>5</td>
                </tr>
            </tbody>
        </table>

        <h3>重量参考</h3>
    
     <p>• 一碗米饭: 200g</p>
        <p>• 一个苹果或西红柿或香蕉: 150g</p>
        <p>• 一个泡面面饼或馒头或一把叶菜: 100g</p>
        <p>• 一个鸡蛋: 50g</p>
        <p>• 一小把坚果: 20g</p>


    </div>
    <div class="divider"></div>
    <h3>BMI计算器</h3>
    <hr>
    <div class="input-group">
        <label for="heightCm">身高（厘米）</label>
        <input type="number" id="heightCm" placeholder="例如：175" min="0">
    </div>
    <div class="input-group">
  
       <label for="weightKg">体重（斤）</label>
        <input type="number" id="weightKg" placeholder="例如：130" min="0">
    </div>
    <button id="calculateBmiBtn">计算BMI</button>
    <div class="result" id="bmiResultDiv"></div>
    <div class="info-panel">
        <h3>BMI标准表（中国）</h3>
        <table class="bmi-table">
            <thead>
                <tr>
                
     <th>BMI值</th>
                    <th>档位</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    
 <td>小于 18.5</td>
                    <td>偏瘦</td>
                </tr>
                <tr>
                    <td>18.5 - 23.9</td>
                    <td>正常</td>
     
            </tr>
                <tr>
                    <td>24 - 27.9</td>
                    <td>超重</td>
                </tr>
               
  <tr>
                    <td>大于等于 28</td>
                    <td>肥胖</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="container">
    <h1>第二步：每日能量需求计算器</h1>
    <hr>
    <div class="input-group">
    
     <label for="gender">性别</label>
        <select id="gender">
            <option value="male" selected>男</option>
            <option value="female">女</option>
        </select>
    </div>
    <div class="input-group">
        <label for="age">年龄（岁）</label>
        <input type="number" id="age" placeholder="例如：30" min="0">
    </div>
    <div class="input-group">
        <label for="energyHeightCm">身高（厘米）</label>
   
      <input type="number" id="energyHeightCm" placeholder="例如：175" min="0">
    </div>
    <div class="input-group">
        <label for="energyWeightKg">体重（斤）</label>
        <input type="number" id="energyWeightKg" placeholder="例如：130" min="0">
    </div>
    <div class="input-group">
        <label for="activityLevel">运动频率</label>
        <select id="activityLevel">
            <option value="1.2" selected>久坐不动（办公室工作）</option>
            <option value="1.375">少量运动（每周1-3天）</option>
       
      <option value="1.55">中等强度运动（每周3-5天）</option>
            <option value="1.725">高强度运动（每周6-7天）</option>
            <option value="1.9">非常高强度运动（每天训练）</option>
        </select>
    </div>
    <button id="calculateEnergyBtn">计算</button>
    <div class="result" id="energyResultDiv"></div>
    <div class="info-panel">
        <h3>活动量乘数表</h3>
        <table class="energy-table">
            <thead>
           
      <tr>
                    <th>活动量</th>
                    <th>乘数</th>
                </tr>
            </thead>
            <tbody>
               
  <tr><td>久坐不动</td><td>1.2</td></tr>
                <tr><td>少量运动</td><td>1.375</td></tr>
                <tr><td>中等强度</td><td>1.55</td></tr>
                <tr><td>高强度</td><td>1.725</td></tr>
                <tr><td>非常高强度</td><td>1.9</td></tr>
            </tbody>
        </table>
        <p style="margin-top: 15px;">基础代谢率 (BMR) 是维持生命所需的基本能量，即静止状态下消耗的卡路里。总能量消耗 (TDEE) 
 是BMR加上日常活动所需的总能量。</p>
         <p style="margin-top: 15px;">编者认为：得到两个能量结果后，应当根据自身情况乘以零点几、一点几这类系数，做出精确调整才是。
            并且这个系数，和日常所吃的食疗（比如四神汤、复合维生素矿物质推荐值等）有密切关系，比如我个人可能需要x0.75左右才能得到正确千卡值，此时四神汤、保健品的剂量也随之x0.75。当然，以上只是我个人如此，具体请咨询医师。</p>
    </div>
</div>

<div class="container">
    <h1>豆粉需求计算器</h1>
    <h2>第四步：主计算器</h2>
    <div class="input-group">
        <label for="weight">体重（斤）</label>
        <input type="number" id="weight" placeholder="例如：120" min="0">
    </div>
    <div class="input-group">
        <label for="proteinStandard">每日蛋白质标准</label>
        <select id="proteinStandard">
            <option value="0.6">0.6 克/公斤（最低需求）</option>
            <option value="0.66" selected>0.66 克/公斤（平均需求EAR）</option>
     
        <option value="0.8">0.8 克/公斤（推荐摄入RDA）</option>
            <option value="1.0">1.0 克/公斤（健身人群）</option>
            <option value="1.2">1.2 克/公斤（运动员）</option>
        </select>
    </div>
    <div class="input-group">
        <label for="totalFood">总食物量（克）</label>
        <input type="number" id="totalFood" value="625" min="0">
    </div>
    <div class="input-group">
        <label for="foodProteinRatio">食物蛋白质比例（%）</label>
       
  <input type="number" id="foodProteinRatio" value="4.625" placeholder="例如：4.625" min="0" max="100" step="0.01" class="editable">
    </div>
    <button id="calculateProteinBtn">计算</button>
    <div class="result" id="proteinResultDiv"></div>
    
    <div class="divider"></div>
    <h2>第一步：摄入估算</h2>
    <div class="input-group">
        <label for="mealsPerDay">每日吃多少顿</label>
        <input type="number" id="mealsPerDay" value="2.5" min="1" max="10" step="0.5">
    </div>
    <div class="input-group">
        <label for="mealSize">每顿食量（克）</label>
        <input type="number" id="mealSize" value="250" min="0" step="10">
    
 </div>
    <div class="input-group">
        <label for="mainFood">主食类型</label>
        <select id="mainFood">
            <option value="no_main_food">没有主食 (0%蛋白质)</option>
            <option value="rice" selected>米饭 (2.5%蛋白质)</option>
            <option value="pasta">面食 (8%蛋白质)</option>
            <option value="oats">燕麦 (13%蛋白质)</option>
        </select>
    </div>
    <div class="input-group">
   
      <label for="sideDish">配菜类型</label>
        <select id="sideDish">
            <option value="no_side_dish">没有配菜 (0%蛋白质)</option>
            <option value="vegetarian_no_soy" selected>不含豆制品的素菜 (2%蛋白质)</option>
            <option value="vegetarian_soy">含一半豆制品的素菜 (6%蛋白质)</option>
            <option value="meat">肉菜 (15%蛋白质)</option>
            <option value="high_protein">高蛋白食物 (25%蛋白质)</option>
        </select>
    </div>
  
   <div class="input-group">
        <label for="foodRatio">主食/配菜比例</label>
        <select id="foodRatio">
            <option value="100/0">100%主食 / 0%配菜</option>
            <option value="0/100">0%主食 / 100%配菜</option>
            <option value="90/10">90%主食 / 10%配菜</option>
            <option value="75/25">75%主食 / 25%配菜</option>
            <option value="50/50" selected>50%主食 / 50%配菜</option>
   
          <option value="25/75">25%主食 / 75%配菜</option>
            <option value="10/90">10%主食 / 90%配菜</option>
        </select>
    </div>
    <button id="applyEstimatesBtn">应用估算值并计算出千卡值</button>
    <div class="result" id="calorieResultDiv"></div>
    
    <div class="divider"></div>
    <h2>蛋氨酸互补计算器</h2>
    <div class="input-group">
        <label for="soy-flour">黄豆粉摄入量 (克)</label>
        <input type="number" id="soy-flour" min="0" placeholder="请输入黄豆粉克数">
    </div>
    <div class="input-group">
 
        <label for="methionine-weight">体重 (斤)</label>
        <input type="number" id="methionine-weight" min="0" placeholder="请输入体重">
    </div>
    <button id="calculate-methionine-btn">计算补充需求</button>
    <div class="results" id="methionine-results">
        <div class="result-card">
            <div class="result-title">每日蛋氨酸需求与当前摄入</div>
            <div id="methionine-summary"></div>
        </div>
        <div class="result-card">
            
 <div class="result-title">需要补充的富蛋氨酸食物</div>
            <ul class="food-list" id="food-list"></ul>
        </div>
    </div>
    <div class="note">
        <strong>说明：</strong>
        <p>编者计算过：当我们吃100g米饭或者面食，需要大概五分之一（20g）的黄豆来补充短板，就比较合适，以此类推。
            并且补充时间不应该大于（一、二个时辰）现代二、四个小时。</p>
        <p>80克大米或面食 + 40克黄豆：侧重于最大化氨基酸互补效果。
            100克大米或面食 + 20克黄豆：侧重于在口感和易接受度上取得平衡。</p>
    </div>
</div>

<div class="container">
    <h1>B12需求计算（慎）</h1>
    <hr>
    <div class="input-group">
        <label for="b12Standard">每日B12标准（微克）</label>
        <select id="b12Standard">
            <option value="0.4">0.4 微克（婴幼儿 0-6个月）</option>
            <option value="0.5">0.5 微克（婴幼儿 7-12个月）</option>
            <option value="0.9">0.9 微克（儿童 1-3岁）</option>
          
   <option value="1.2">1.2 微克（儿童 4-8岁）</option>
            <option value="1.8">1.8 微克（青少年 9-13岁）</option>
            <option value="2.4" selected>2.4 微克（青少年 14-18岁及成年人）</option>
            <option value="2.6">2.6 微克（孕妇）</option>
            <option value="2.8">2.8 微克（哺乳期）</option>
        </select>
    </div>
    <div class="input-group">
        <label for="b12Intake">每日B12食物摄入量（微克）</label>
        <input type="number" 
 id="b12Intake" value="0" readonly>
    </div>
    <button id="calculateB12Btn">计算B12需求</button>
    <div class="result" id="b12ResultDiv"></div>
    <div class="b12-details" id="b12DetailsDiv">
        <p>若通过以下食物补充，则每日需额外摄入：</p>
        <ul style="list-style-type: none;
 padding: 0;">
            <li id="b12FermentedBeanCurdResult"></li>
            <li id="b12MilkResult"></li>
            <li id="b12SupplementResult"></li>
        </ul>
    </div>
    <div class="note">
        <p><strong>注意：</strong>此计算基于豆粉蛋白质含量40%，且B12含量几乎为零。</p>
        <p>青腐乳（某致和臭豆腐）的B12含量因发酵工艺差异大，这里以约<strong>15微克/100克</strong>估算，仅供参考。</p>
        <p>牛奶含量以约<strong>0.45微克/100克</strong>估算。</p>
    </div>
    <div class="divider"></div>
    <h2>第三步：卡路里摄入反推</h2>
    <div class="input-group">
 
        <label for="totalCalories">每日总摄入卡路里（千卡）</label>
        <input type="number" id="totalCalories" placeholder="例如：2000" min="0">
    </div>
    <div class="input-group">
        <label for="reverseMealsPerDay">每日吃多少顿</label>
        <input type="number" id="reverseMealsPerDay" value="2.5" min="1" max="10" step="0.5">
    </div>
    <div class="input-group">
        <label for="reverseMainFood">主食类型</label>
        <select id="reverseMainFood">
            <option value="no_main_food">没有主食 (0%蛋白质)</option>
       
      <option value="rice" selected>米饭 (2.5%蛋白质)</option>
            <option value="pasta">面食 (8%蛋白质)</option>
            <option value="oats">燕麦 (13%蛋白质)</option>
        </select>
    </div>
    <div class="input-group">
        <label for="reverseSideDish">配菜类型</label>
        <select id="reverseSideDish">
            <option value="no_side_dish">没有配菜 (0%蛋白质)</option>
            <option value="vegetarian_no_soy" selected>不含豆制品的素菜 
 (2%蛋白质)</option>
            <option value="vegetarian_soy">含一半豆制品的素菜 (6%蛋白质)</option>
            <option value="meat">肉菜 (15%蛋白质)</option>
            <option value="high_protein">高蛋白食物 (25%蛋白质)</option>
        </select>
    </div>
    <div class="input-group">
        <label for="reverseFoodRatio">主食/配菜比例</label>
        <select id="reverseFoodRatio">
            <option value="100/0">100%主食 / 0%配菜</option>
        
     <option value="0/100">0%主食 / 100%配菜</option>
            <option value="90/10">90%主食 / 10%配菜</option>
            <option value="75/25">75%主食 / 25%配菜</option>
            <option value="50/50" selected>50%主食 / 50%配菜</option>
            <option value="25/75">25%主食 / 75%配菜</option>
            <option value="10/90">10%主食 / 90%配菜</option>
        </select>
    </div>
    <button 
 id="calculateReverseBtn">反推每顿食量</button>
    <div class="result" id="reverseCalorieResultDiv"></div>

    <div class="info-panel">
        <h3>各类型食物卡路里（千卡/100克）</h3>
        <table class="calorie-table">
            <thead>
                <tr>
                    <th>食物类型</th>
                    <th>卡路里值</th>
    
             </tr>
            </thead>
            <tbody>
                <tr><td>米饭类主食</td><td>~130</td></tr>
                <tr><td>面食类主食</td><td>~158</td></tr>
                <tr><td>燕麦类主食</td><td>~68</td></tr>
                
 <tr><td>不含豆制品的素菜</td><td>~30</td></tr>
                <tr><td>含一半豆制品的素菜</td><td>~120</td></tr>
                <tr><td>肉菜</td><td>~250</td></tr>
                <tr><td>高蛋白食物</td><td>~200</td></tr>
            </tbody>
        </table>
    </div>
</div>

<button id="floating-btn" class="floating-btn">治疗抑郁焦虑</button>
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <pre id="modal-text"></pre>
 
    </div>
</div>

<script>
    // 使用 IIFE (立即调用函数表达式) 创建一个独立的、安全的作用域
    // 这可以防止变量污染全局空间，是构建健壮模块的基石
    (function() {
        // 1. CONFIGURATION: 存放所有固定不变的配置和“魔数”
        const CONFIG = {
            proteinRatios: {
                no_main_food: 0,
                rice: 0.025,
          
       pasta: 0.08,
                oats: 0.13,
                no_side_dish: 0,
                vegetarian_no_soy: 0.02,
                vegetarian_soy: 0.06,
                meat: 0.15,
        
         high_protein: 0.25,
                soyPowder: 0.4,
            },
            caloriesPerGram: {
                no_main_food: 0,
                rice: 1.3,
               
  pasta: 1.58,
                oats: 0.68,
                no_side_dish: 0,
                vegetarian_no_soy: 0.3,
                vegetarian_soy: 1.2,
                meat: 2.5,
             
    high_protein: 2.0,
            },
            b12Contents: {
                meatPerGram: 0.015,
                fermentedBeanCurdPer100g: 15,
                milkPer100g: 0.45,
                supplementPerPill: 10,
   
          },
            assumptions: {
                fermentedBeanCurdPieceWeight: 15,
                milkCupWeight: 250,
            },
            // 蛋氨酸互补计算器的常量
            methionine: {
      
           dailyNeedMgPerKg: 19,
                soyFlourMgPer100g: 550, // 0.55g/100g
                foods: [
                    { name: "芝麻酱", methionine: 600, unit: "克" },
                    { name: "花生", methionine: 300, unit: 
 "克" },
                    { name: "面食", methionine: 225, unit: "克" },
                    { name: "玉米", methionine: 175, unit: "克" },
                    { name: "大米", methionine: 125, unit: "克" },
                ]
  
           }
        };
 // 2. DOM ELEMENTS: 集中管理所有 DOM 元素的引用
        const DOM = {
            // 主计算器
            weight: document.getElementById('weight'),
            proteinStandard: document.getElementById('proteinStandard'),
            totalFood: document.getElementById('totalFood'),
            foodProteinRatio: document.getElementById('foodProteinRatio'),
            calculateProteinBtn: document.getElementById('calculateProteinBtn'),
     
        proteinResultDiv: document.getElementById('proteinResultDiv'),

            // B12 计算器
            b12Standard: document.getElementById('b12Standard'),
            b12Intake: document.getElementById('b12Intake'),
            calculateB12Btn: document.getElementById('calculateB12Btn'),
            b12ResultDiv: document.getElementById('b12ResultDiv'),
            b12DetailsDiv: document.getElementById('b12DetailsDiv'),
            b12FermentedBeanCurdResult: 
 document.getElementById('b12FermentedBeanCurdResult'),
            b12MilkResult: document.getElementById('b12MilkResult'),
            b12SupplementResult: document.getElementById('b12SupplementResult'),

            // 估算器
            mealsPerDay: document.getElementById('mealsPerDay'),
            mealSize: document.getElementById('mealSize'),
            mainFood: document.getElementById('mainFood'),
            sideDish: document.getElementById('sideDish'),
         
    foodRatio: document.getElementById('foodRatio'),
            applyEstimatesBtn: document.getElementById('applyEstimatesBtn'),
            // 新增的卡路里结果
            calorieResultDiv: document.getElementById('calorieResultDiv'),

            // BMI 计算器
            heightCm: document.getElementById('heightCm'),
            weightKg: document.getElementById('weightKg'),
            calculateBmiBtn: document.getElementById('calculateBmiBtn'),
    
         bmiResultDiv: document.getElementById('bmiResultDiv'),

            // 能量计算器
            gender: document.getElementById('gender'),
            age: document.getElementById('age'),
            energyHeightCm: document.getElementById('energyHeightCm'),
            energyWeightKg: document.getElementById('energyWeightKg'),
            activityLevel: document.getElementById('activityLevel'),
            calculateEnergyBtn: 
 document.getElementById('calculateEnergyBtn'),
            energyResultDiv: document.getElementById('energyResultDiv'),

            // 新增：反向估算器
            totalCalories: document.getElementById('totalCalories'),
            reverseMealsPerDay: document.getElementById('reverseMealsPerDay'),
            reverseMainFood: document.getElementById('reverseMainFood'),
            reverseSideDish: document.getElementById('reverseSideDish'),
            reverseFoodRatio: document.getElementById('reverseFoodRatio'),
         
    calculateReverseBtn: document.getElementById('calculateReverseBtn'),
            reverseCalorieResultDiv: document.getElementById('reverseCalorieResultDiv'),

            // 蛋氨酸互补计算器
            soyFlourInput: document.getElementById('soy-flour'),
            methionineWeightInput: document.getElementById('methionine-weight'),
            calculateMethionineBtn: document.getElementById('calculate-methionine-btn'),
            methionineResultsDiv: document.getElementById('methionine-results'),
            methionineSummaryDiv: document.getElementById('methionine-summary'),
     
        methionineFoodList: document.getElementById('food-list'),

            // 弹窗相关
            floatingBtn: document.getElementById('floating-btn'),
            modal: document.getElementById('myModal'),
            closeBtn: document.getElementsByClassName("close-btn")[0],
            modalText: document.getElementById("modal-text")
        };
 // 3. STATE: 应用程序的唯一数据源 (Single Source of Truth)
        // 界面上的一切都应是这个 state 对象的反映
        const state = {
            // 输入值
            weight: 0,
            proteinStandard: 0,
            totalFood: 0,
            foodProteinRatio: 4.625,
      
       b12Standard: 0,
            sideDish: '',
            mealsPerDay: 0,
            mealSize: 0,
            mainFood: '',
            foodRatio: '',
            heightCm: 0,
            weightKg: 0,
  
           gender: '',
            age: 0,
            energyHeightCm: 0,
            energyWeightKg: 0,
            activityLevel: 0,
            // 新增：反向估算输入
            totalCalories: 0,
           
  reverseMealsPerDay: 0,
            reverseMainFood: '',
            reverseSideDish: '',
            reverseFoodRatio: '',
            // 蛋氨酸计算器输入
            soyFlour: 0,
            methionineWeight: 0,

            // 计算结果
       
      protein: {
                required: 0,
                fromFood: 0,
                deficit: 0,
                soyPowderNeeded: 0,
                showResult: false
         
    },
            b12: {
                intake: 0,
                deficit: 0,
                showResult: false,
                curdNeeded: 0,
                
 milkNeeded: 0,
                pillsNeeded: 0
            },
            bmi: {
                value: 0,
                category: '',
                showResult: false
      
       },
            energy: {
                bmr: 0,
                tdee: 0,
                showResult: false
            },
            calories: {
     
            value: 0,
                showResult: false
            },
            // 新增：反向估算结果
            reverse: {
                totalFood: 0,
                
 mealSize: 0,
                showResult: false
            },
            // 蛋氨酸计算结果
            methionine: {
                dailyNeed: 0,
                fromSoy: 0,
          
       deficit: 0,
                showResult: false,
            }
        };
 // 4. LOGIC: 纯粹的计算函数，不直接操作 DOM
        const Logic = {
            // 从估算器计算平均蛋白质比例
            calculateAverageProteinRatio: () => {
                const mainFoodRatio = CONFIG.proteinRatios[state.mainFood] ||
 0;
                const sideDishRatio = CONFIG.proteinRatios[state.sideDish] || 0;
                const [mainFoodPercent, sideDishPercent] = state.foodRatio.split('/').map(p => parseFloat(p) / 100);
 const totalFoodInGrams = state.mealsPerDay * state.mealSize;
                const totalProtein = (totalFoodInGrams * mainFoodPercent * mainFoodRatio) + (totalFoodInGrams * sideDishPercent * sideDishRatio);
 state.totalFood = totalFoodInGrams;
                state.foodProteinRatio = (totalFoodInGrams) ? (totalProtein / totalFoodInGrams) * 100 : 0;
 },

            // 从估算器计算总卡路里
            calculateTotalCalories: () => {
                const mainFoodCal = CONFIG.caloriesPerGram[state.mainFood] ||
 0;
                const sideDishCal = CONFIG.caloriesPerGram[state.sideDish] || 0;
                const [mainFoodPercent, sideDishPercent] = state.foodRatio.split('/').map(p => parseFloat(p) / 100);
 const totalFoodInGrams = state.mealsPerDay * state.mealSize;
                const totalCalories = (totalFoodInGrams * mainFoodPercent * mainFoodCal) + (totalFoodInGrams * sideDishPercent * sideDishCal);
 state.calories.value = totalCalories;
                state.calories.showResult = true;
            },

            // 计算蛋白质需求
            calculateProteinNeeded: () => {
                const weightInKg = state.weight / 2;
 state.protein.required = weightInKg * state.proteinStandard;
                state.protein.fromFood = state.totalFood * (state.foodProteinRatio / 100);
                state.protein.deficit = Math.max(0, state.protein.required - state.protein.fromFood);
 state.protein.soyPowderNeeded = state.protein.deficit / CONFIG.proteinRatios.soyPowder;
                state.protein.showResult = true;
            },

            // 计算B12需求
            calculateB12Needed: () => {
                state.b12.deficit = Math.max(0, state.b12Standard - state.b12Intake);
 state.b12.curdNeeded = (state.b12.deficit / CONFIG.b12Contents.fermentedBeanCurdPer100g) * 100;
                state.b12.milkNeeded = (state.b12.deficit / CONFIG.b12Contents.milkPer100g) * 100;
                state.b12.pillsNeeded = state.b12.deficit / CONFIG.b12Contents.supplementPerPill;
 state.b12.showResult = true;
            },

            // 计算BMI
            calculateBmi: () => {
                const heightInMeters = state.heightCm / 100;
 const weightInKg = state.weightKg / 2;
                state.bmi.value = weightInKg / (heightInMeters * heightInMeters);
 if (state.bmi.value < 18.5) {
                    state.bmi.category = "偏瘦";
 } else if (state.bmi.value < 24) {
                    state.bmi.category = "正常";
 } else if (state.bmi.value < 28) {
                    state.bmi.category = "超重";
 } else {
                    state.bmi.category = "肥胖";
 }
                state.bmi.showResult = true;
 },

            // 计算每日能量需求
            calculateEnergy: () => {
                const heightInCm = state.energyHeightCm;
 const weightInKg = state.energyWeightKg / 2;
                const age = state.age;
                const activityLevel = state.activityLevel;

                let bmr;
 if (state.gender === 'male') {
                    bmr = (10 * weightInKg) + (6.25 * heightInCm) - (5 * age) + 5;
 } else {
                    bmr = (10 * weightInKg) + (6.25 * heightInCm) - (5 * age) - 161;
 }
                state.energy.bmr = bmr;
 state.energy.tdee = bmr * activityLevel;
                state.energy.showResult = true;
            },

            // 反向计算每顿食物量
            calculateReverse: () => {
                const [mainFoodPercent, sideDishPercent] = state.reverseFoodRatio.split('/').map(p => parseFloat(p) / 100);
 const mainFoodCal = CONFIG.caloriesPerGram[state.reverseMainFood] || 0;
                const sideDishCal = CONFIG.caloriesPerGram[state.reverseSideDish] || 0;
                const mealsPerDay = state.reverseMealsPerDay;
                const totalCalories = state.totalCalories;
 // C_main * P_main * T_food + C_side * P_side * T_food = C_total
                // (C_main * P_main + C_side * P_side) * T_food = C_total
                // T_food = C_total / (C_main * P_main + C_side * P_side)
                const weightedCaloriePerGram = (mainFoodCal * mainFoodPercent) + (sideDishCal * sideDishPercent);
 if (weightedCaloriePerGram > 0) {
                    state.reverse.totalFood = totalCalories / weightedCaloriePerGram;
 state.reverse.mealSize = state.reverse.totalFood / mealsPerDay;
                } else {
                    state.reverse.totalFood = 0;
 state.reverse.mealSize = 0;
                }
                state.reverse.showResult = true;
 },

            // 计算蛋氨酸补充
            calculateMethionineComplement: () => {
                const weightInKg = state.methionineWeight / 2;
 const dailyMethionineNeed = weightInKg * CONFIG.methionine.dailyNeedMgPerKg;
                const methionineFromSoy = (state.soyFlour / 100) * CONFIG.methionine.soyFlourMgPer100g;
 const methionineDeficit = Math.max(0, dailyMethionineNeed - methionineFromSoy);

                state.methionine.dailyNeed = dailyMethionineNeed;
                state.methionine.fromSoy = methionineFromSoy;
                state.methionine.deficit = methionineDeficit;
                state.methionine.showResult = true;
 }
        };

        // 5. RENDERER: 将 state 渲染到 DOM
        const Renderer = {
            renderProteinResult: () => {
                if (state.protein.showResult) {
                    DOM.proteinResultDiv.style.display = 'block';
 DOM.proteinResultDiv.innerHTML = `每日蛋白质需求: <strong>${state.protein.required.toFixed(1)} 克</strong><br>食物提供: <strong>${state.protein.fromFood.toFixed(1)} 克</strong><br>蛋白质缺口: <strong>${state.protein.deficit.toFixed(1)} 克</strong><br>需额外补充约 <strong>${state.protein.soyPowderNeeded.toFixed(1)} 克</strong> 黄豆粉`;
 }
            },
            renderBmiResult: () => {
                if (state.bmi.showResult) {
                    DOM.bmiResultDiv.style.display = 'block';
 DOM.bmiResultDiv.innerHTML = `您的BMI值是: <strong>${state.bmi.value.toFixed(1)}</strong><br>属于: <strong>${state.bmi.category}</strong>`;
                }
            },
            renderEnergyResult: () => {
                if (state.energy.showResult) {
                    DOM.energyResultDiv.style.display = 'block';
 DOM.energyResultDiv.innerHTML = `您的基础代谢率(BMR)是: <strong>${state.energy.bmr.toFixed(0)} 千卡</strong><br>您的每日总能量消耗(TDEE)是: <strong>${state.energy.tdee.toFixed(0)} 千卡</strong>`;
                }
            },
            renderCalorieResult: () => {
                if (state.calories.showResult) {
                    DOM.calorieResultDiv.style.display = 'block';
 DOM.calorieResultDiv.innerHTML = `总摄入卡路里估算: <strong>${state.calories.value.toFixed(0)} 千卡</strong>`;
                }
            },
            renderB12Result: () => {
                if (state.b12.showResult) {
                    DOM.b12ResultDiv.style.display = 'block';
 DOM.b12DetailsDiv.style.display = 'block';
                    DOM.b12ResultDiv.innerHTML = `每日需额外补充: <strong>${state.b12.deficit.toFixed(2)} 微克</strong> B12`;
                    DOM.b12FermentedBeanCurdResult.innerHTML = `• 青腐乳：约 <strong>${(state.b12.deficit / 15 * 100).toFixed(0)} 克</strong> 或 <strong>${(state.b12.deficit / 15 * 100 / CONFIG.assumptions.fermentedBeanCurdPieceWeight).toFixed(1)} 块</strong>`;
 DOM.b12MilkResult.innerHTML = `• 牛奶：约 <strong>${(state.b12.deficit / 0.45 * 100).toFixed(0)} 克</strong> 或 <strong>${(state.b12.deficit / 0.45 * 100 / CONFIG.assumptions.milkCupWeight).toFixed(1)} 杯</strong>`;
 DOM.b12SupplementResult.innerHTML = `• 营养补充剂：约 <strong>${state.b12.pillsNeeded.toFixed(1)} 片</strong> (以每片10微克计)`;
                    if (state.b12.deficit === 0) {
                        DOM.b12ResultDiv.innerHTML = '您的B12摄入已满足每日需求，无需额外补充';
 DOM.b12DetailsDiv.style.display = 'none';
                    }
                }
            },
            renderReverseResult: () => {
                if (state.reverse.showResult) {
                    DOM.reverseCalorieResultDiv.style.display = 'block';
 DOM.reverseCalorieResultDiv.innerHTML = `每日总食物量: <strong>${state.reverse.totalFood.toFixed(0)} 克</strong><br>反推每顿食量: <strong>${state.reverse.mealSize.toFixed(0)} 克</strong>`;
                }
            },
            renderMethionineResult: () => {
                if (state.methionine.showResult) {
                    DOM.methionineResultsDiv.style.display = 'block';
 DOM.methionineSummaryDiv.innerHTML = `
                        <p>每日蛋氨酸需求: <strong>${state.methionine.dailyNeed.toFixed(0)} mg</strong></p>
                        <p>黄豆粉提供: <strong>${state.methionine.fromSoy.toFixed(0)} mg</strong></p>
                        <p>蛋氨酸缺口: <strong>${state.methionine.deficit.toFixed(0)} mg</strong></p>
                    
 `;
                    
                    DOM.methionineFoodList.innerHTML = '';
                    if (state.methionine.deficit === 0) {
                        DOM.methionineFoodList.innerHTML = '<li class="food-item">您的蛋氨酸摄入已满足每日需求，无需额外补充</li>';
 } else {
                        CONFIG.methionine.foods.forEach(food => {
                            const amount = (state.methionine.deficit / food.methionine) * 100;
                            const listItem = document.createElement('li');
      
                       listItem.className = 'food-item';
                            listItem.innerHTML = `
                                <span class="food-name">${food.name}</span>
             
                    <span class="food-amount">${amount.toFixed(1)} ${food.unit}</span>
                            `;
                            DOM.methionineFoodList.appendChild(listItem);
                       
  });
                    }
                }
            },
            // 新增一个渲染函数，用于更新主计算器的输入框
            updateMainCalculatorInputs: () => {
                DOM.totalFood.value = state.totalFood.toFixed(0);
                DOM.foodProteinRatio.value = state.foodProteinRatio.toFixed(3);
            }
        };
 // 6. EVENT LISTENERS: 绑定事件并更新 state
        const BindEvents = () => {
            DOM.calculateProteinBtn.addEventListener('click', () => {
                state.weight = parseFloat(DOM.weight.value) || 0;
                state.proteinStandard = parseFloat(DOM.proteinStandard.value) || 0.66;
                state.totalFood = parseFloat(DOM.totalFood.value) || 0;
       
          state.foodProteinRatio = parseFloat(DOM.foodProteinRatio.value) || 0;
                Logic.calculateProteinNeeded();
                Renderer.renderProteinResult();
            });
 DOM.applyEstimatesBtn.addEventListener('click', () => {
                state.mealsPerDay = parseFloat(DOM.mealsPerDay.value) || 0;
                state.mealSize = parseFloat(DOM.mealSize.value) || 0;
                state.mainFood = DOM.mainFood.value;
                state.sideDish = DOM.sideDish.value;
                state.foodRatio = DOM.foodRatio.value;
   
              Logic.calculateAverageProteinRatio();
                // 调用新增的渲染函数来更新主计算器的输入框
                Renderer.updateMainCalculatorInputs();
                Logic.calculateTotalCalories();
                Renderer.renderCalorieResult();
            });
 DOM.calculateBmiBtn.addEventListener('click', () => {
                state.heightCm = parseFloat(DOM.heightCm.value) || 0;
                state.weightKg = parseFloat(DOM.weightKg.value) || 0;
                Logic.calculateBmi();
                Renderer.renderBmiResult();
            });
 DOM.calculateEnergyBtn.addEventListener('click', () => {
                state.gender = DOM.gender.value;
                state.age = parseFloat(DOM.age.value) || 0;
                state.energyHeightCm = parseFloat(DOM.energyHeightCm.value) || 0;
                state.energyWeightKg = parseFloat(DOM.energyWeightKg.value) || 0;
                state.activityLevel = parseFloat(DOM.activityLevel.value) 
 || 0;
                Logic.calculateEnergy();
                Renderer.renderEnergyResult();
            });
 DOM.calculateB12Btn.addEventListener('click', () => {
                state.b12Standard = parseFloat(DOM.b12Standard.value) || 2.4;
                state.b12Intake = parseFloat(DOM.b12Intake.value) || 0;
                Logic.calculateB12Needed();
                Renderer.renderB12Result();
            });
 DOM.calculateReverseBtn.addEventListener('click', () => {
                state.totalCalories = parseFloat(DOM.totalCalories.value) || 0;
                state.reverseMealsPerDay = parseFloat(DOM.reverseMealsPerDay.value) || 0;
                state.reverseMainFood = DOM.reverseMainFood.value;
                state.reverseSideDish = DOM.reverseSideDish.value;
                state.reverseFoodRatio = DOM.reverseFoodRatio.value;
   
              Logic.calculateReverse();
                Renderer.renderReverseResult();
            });
 DOM.calculateMethionineBtn.addEventListener('click', () => {
                state.soyFlour = parseFloat(DOM.soyFlourInput.value) || 0;
                state.methionineWeight = parseFloat(DOM.methionineWeightInput.value) || 0;
                Logic.calculateMethionineComplement();
                Renderer.renderMethionineResult();
            });
 DOM.floatingBtn.addEventListener('click', () => {
                // 在这里定义弹窗文本
                const modalTextContent = `xlm：

抗抑郁焦虑，生物角度结论：大脑是地，肠道抗抑郁焦虑益生菌是肥，维bd锌镁Omega-3是工人，
色氨酸是种子，黄豆（大豆异黄酮）是神农。

其中以我的体验（基本排除了维生素矿物质、黑豆、米面主食）：
【黄豆】最重要【不论男女】，并且大豆异黄酮在其他东西里基本不含。

这里有一个我的经验公式给大家参考：
【抗焦虑抑郁 每天应吃黄豆g数=体重斤x十六分之三】
此时你可能会得到大体的数：比如20g黄豆，但这是一天的量，
实际应该除以2，也就是10g每6小时服用一次。（一般一个时辰起效）

实用性重要程度我个人排序：由上到下由高到低
【黄豆】大豆异黄酮
维生素B族
抗抑郁焦虑益生菌
色氨酸（黄豆黑豆都有很多，米面虽然只有前二者三分之一的含量，
但吃的总量多，基本不用担心缺少色氨酸）
其他种种

从理论上：B族和Omega-3的抗抑郁焦虑证据更稳定，其次是色氨酸。而以上内容仅代表我个人意见。

我曾经一年吃纯素（也不吃鸡蛋），看着配料表：甚至酱油的配料表我都看。
当时平常一天两顿到两顿半，只吃土豆、米饭、酱油，有时候会少量加点配菜。

三个月后我开始头疼，过一段时间不再头疼了，一年后我开始出现以下问题：
1. 呼吸困难，具体来说，是吸气困难而不是吐气。甚至睡觉都要举着手睡，否则喘不上气。
2. 左胸附近不适，用了各种艾灸方式，烫的皮肤都是疤痕，后背全是疤痕，并没有效果。

两年后我出现以下问题：
1.经常内心恐慌不安
2.纠结细节难以自拔

然后我在某一天，喝了一些蛋白质，因为我比较敏感，直接改善了一些喜欢纠结的问题，但是恐慌还有。
又过了一年，恐慌严重了，经常晚上、甚至刚睡醒就难安，思维变得极端。

有一天我的母亲让我喝牛奶，说对身体好，我感觉到了什么，
便去网上搜索营养学相关知识。这才知道吃素最需要注意：
1.蛋白质
2.B12

于是我买了一罐臭豆腐，因为我还想保持吃素的习惯，我吃了大概不到半罐，情况好转一些。
加上当时几个月经常喝牛奶，已经基本好转了。

在这个过程中，以及我小时候的经验，我总结了以下几点：（现代人不缺水和碳水）

1. 首先最重要的就是黄豆，防止纠结、防止思维陷入沉密（过于细密）的状态。
2. 然后就是B12、B9、B6等调节情绪的维生素。
3. 益生菌，益生菌有专门调节情绪的菌类，需要单独购买，有些帮助，我有感受。

4. 晒太阳帮助不大，我并非反对晒太阳，而是对情绪帮助不大，
   我推测可能是应该从小时候注意维生素D，而非成人后注意。

5. 其他科学理论建议（我暂时没有体验）：补充Omega-3、镁、钾、铁

这并不是说吃肉：蛋白质就不缺，
比如：一个人120斤，一天1个鸡蛋、300ml牛奶、一碟肉菜。够不够蛋白质？
不够，你仅仅摄入了30g蛋白质，就算我按0.66克/公斤的平均需求量，而不是0.8的推荐量来算：
你还差10g蛋白质，所以需要每日摄入蛋白质的计算，并做出调整，你才能改善自己。

这里我建议：多喝豆粉、维生素B族不要有缺口。

我崇敬的印光法师曾经说过：
先后天衰弱，当以善于保养为事。若欲靠食物滋养，食素人宜多吃麦。
食麦之力大于米力不止数倍。光吃了面食，则精神健壮，气力充足，音声高大。
米则只可饱腹，无此效力。麦比参力尚高数倍。
有钱人服参，乃是钱无处用，故作此消耗耳。非真能补人也。
又大磨麻油，亦补人。小磨麻油，以炒焦枯了，力道退半。人但知香，实则是焦味耳
。莲子，桂圆，红枣，芡实，薏米，皆可滋补。岂必须血肉，方能滋补乎。总之皆不如麦之力大。
如不能吃，则兼带著吃。久则自知，亦自好吃矣。
《文钞三编卷上·复蔡契诚居士书一》

黄豆、豆油，补料最多，宜常服之。早间粥中，宜下磨破之黄豆。
平常食油，专用豆油，较比猪油，补力更大。
何苦用钱买祸（以食肉欠杀债，故云买祸）而求补益耶。
吃荤之人，若肯吃素，定规会少病强健。
《文钞续编卷上·复鲍衡士书》

=======================================================================

关于欧米伽3和欧米伽6：
我们知道这二者是必须脂肪，意味着谁都不可缺少，人体不能自己合成。
我们平常吃的种子油，基本都是欧米伽6，并且欧米伽3在一般饮食中不常见。
所以一般营养学都主张：【6别吃多了，3别吃少了】。

细胞除了传递信号还有运输营养，而二者决定了细胞的外壳性能。
而信号既包括大脑下达的神经信号，也包括全身细胞之间的局部化学信号。
【从功能上欧米伽6是车辆，欧米伽3是交警】。
欧米伽6的过多，会产生炎症反应，所以需要欧米伽3来调节。
车辆可以稍微多，但交警不能没有。一般欧米伽6与欧米伽3的比例最佳是1:1，实际不超过5:1就行。

欧米伽3可以分为ALA、DHA、EPA三种，ALA如同面粉，DHA和EPA如同面包，是成品。
也就是说当有足量的DHA和EPA，就不需要ALA了。
就像亚麻籽所产生的ALA虽然可以在摄入后分化成DHA和EPA，但转化出来的量少。
比如10g亚麻籽粉，粗看差不多能让人吸收男60、女120mg的EPA；男2.5、女25mg的DHA。
所以要额外补充DHA和EPA，这二者最好是1:1，也是买补剂时必须要看的两点量值。
欧米伽3补油，在制造过程会产生氧化劣化，所以要买就买高质量的（在没有对应食物的情况下）。

正常人一天DHA和EPA加起来推荐250–500mg/天，
【DHA主脑眼健康；EPA主血管清理与情绪调节。】所以有些血管病人，医生可能让他吃大量的EPA。

=======================================================================

关于膳食纤维：
分为可溶，不可溶二者。
不可溶如同砖头、可溶如同水泥。
而肠道的益生菌只能吃水泥，不能吃砖头。
肠道的垃圾需要砖头刮下来，填充排出。

10克时参考：
奇亚籽 可溶3.3g 不可溶0.3g
亚麻籽 可溶1.0g 不可溶1.7g
黄豆   可溶0.5g 不可溶0.5g
燕麦   可溶0.7g 不可溶0.3g

总结：
奇亚籽：高纤维、水泥型。核心功能是凝胶、饱腹、滋养菌群。
亚麻籽粉：中纤维、砖头型。核心功能是增粪便体积、强蠕动、物理清理。
黄豆粉：低纤维、均衡型。核心功能是提供基础营养和温和的肠道支持。

可见，奇亚籽是可溶王者、亚麻籽是不可溶王者

所以我们为了肠道、排便健康，需要摄入膳食纤维，我个人体验吃亚麻籽会有明显排便改变。

最后，希望这篇文章能够帮助到更多的人。
`;
 DOM.modalText.textContent = modalTextContent;
                DOM.modal.style.display = "block";
            });
            DOM.closeBtn.onclick = function() {
                DOM.modal.style.display = "none";
 }
            window.onclick = function(event) {
                if (event.target == DOM.modal) {
                    DOM.modal.style.display = "none";
 }
            }
        };
 // 7. INITIALIZE: 应用的启动入口
        const Init = () => {
            BindEvents();
 };

        // Go!
        Init();
    })();
</script>

</body>
</html>